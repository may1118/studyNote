# git学习

[TOC]



## git版本控制系统

1. 记录历史版本信息（记录每一次修改的记录）
2. 方便团队之间协作开发

......

常用的版本控制系统

- cvs/svn：集中式版本控制系统
- git：分布式版本控制系统

| 集中式版本控制系统：svn                                      | 分布式版本控制系统：git                                      |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 需要一个中央总控的服务器，用来存储历史版本和代码信息         | 每个人的电脑就是一个代码仓库，如果是团队开发就需要中央服务器（GitHub） |
| 每天需要从中央服务器上拉去最新的代码，并且保证运行正确之后，才能开始写自己的代码，上传的时候也需要处理冲突 |                                                              |
| 需要连网才能回退历史版本信息                                 | 无需联网就能记录和查看历史版本信息                           |
| 如果中央服务器毁坏了，所有的历史版本都会消失                 | 无需过多依赖中央仓库，每个人本地有全部信息                   |
| 所有的上传和下载都是基于文件传输完成的，速度比较慢           | 向中央仓库传输内容依托的是文件流传输，速度比SVN快N倍         |

## git分区

1. 工作区：我们能看到的，并且用来写代码的区域
2. 暂存区：临时存储用的
3. 历史区：生成历史版本

提交的顺序：工作区----> 暂存区----> 历史区

## git使用

### git的全局配置

> 作用：告诉git我是谁

#### 查看配置信息

```shell
$ git config -l // --list
$ git config --global -l // 全局配置信息
```

#### 配置基本信息：用户名和邮箱

```shell
$ git config --global user.name "xxx"
$ git config --global user.email "xxx"
```

### 创建仓库 完成版本控制

#### 创建本地git仓库

回生成一个隐藏文件夹`.git`（里面包含一个完整的`git`仓库）

```shell
$ git init
```

#### 提交到暂存区

```shell
$ git add . //全部添加修改过的文件到暂存区
$ git add -A // 全部添加
$ git add xxx //添加指定文件/文件夹
```

#### 查看文件状态

```shell
$ git status
```

指明**红色**的标识还在**工作区**

**绿色**代表**暂存区**

**看不见**代表修改的信息已经提交到了**历史区**

#### 修改文件所在的区域（从暂存区---> 工作区）

```shell
$ git rm --cached xxx //停止追踪指定文件
```

#### 删除工作区的文件，并且将这次删除放入暂存区

```shell
$ git rm xxx xxx ...
```

#### 提交到历史区

```shell
$ git commit -m"描述信息"
查看历史版本信息（历史记录）
$ git log
$ git reflog 包含回滚信息（版本号）
```

> 从工作区提交到暂存区，从暂存区提交到历史区：是把内容复制一份过去的，本区域中依然存在这些信息，目的是为了提交的时候进行对比那些文件已经存在

#### 回滚

```shell
$ git reset --hard 版本号
```

### 分支

```shell
# 列出所有本地分支
$ git branch

# 列出所有远程分支
$ git branch -r

# 列出所有本地分支和远程分支
$ git branch -a

# 删除分支
$ git branch -d [branch-name]

# 删除远程分支
$ git push origin --delete [branch-name]
$ git branch -dr [remote/branch]
```

## 和GitHub关联

创建线上的仓库，用来管理项目的源代码

```shell
查看
$ git remote -v 
关联
$ git remote add origin [git仓库的地址]
解除关联
$ git remote rm origin
```

### 拉取

```shell
提交之前最好先拉取
取回远程主机某个分支的更新，再与本地的指定分支合并，它的完整格式稍稍有点复杂
$ git pull origin master
把本地代码提交到远程仓库
$ git push origin master
远程代码克隆，并且建立了关联，之后拉取可以直接git pull 
$ git clone [远程git仓库地址] [别名，保存到本地文件夹（会自己新建）]
```

