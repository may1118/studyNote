# 垃圾回收机制和内存管理

## 垃圾回收机制

- 标记清除
- 引用计数

## 内存管理

JavaScript使用的是**标记清除**

- 遍历所有可访问的对象
- 回收已不可访问的对象

**缺陷**：

当清理内存时，会停止相应其他操作，这是为了安全策略。而JavaScript的GC在100ms甚至以上，对一般的应用还好，但是对于JS游戏，动画连贯性要求比较高的应用就麻烦了。

可优化部分：避免GC造成的长时间停止响应。

**优化策略**：

- 分代回收
  - 多回收临时对象，少回收持久对象，减少每次需要遍历的对象，从而减少每次GC的耗时
- 增量GC
  - 每次处处理一部分