# 语法和数据类型

[MDN文档](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Grammar_and_types)

[TOC]

## 声明

- var：声明一个变量，可初始化一个值
- let：声明一个**块作用域**的**局部变量**，可初始化一个值
- const：声明一个块作用域的只读常量

### 变量的作用域

在函数之外声明的变量，叫做全局变量，因为它可被当前文档中的任何其他代码所访问。在函数内部声明的变量，叫做局部变量，因为它只能在当前函数的内部访问。

在ECMAScript6之前的JavaScript没有语句块作用域；相反，语句块中声明的变量将成为语句块所在函数（或全局作用域）的局部变量。

在ECMAScript6之后，可以使用let声明，会生成块级作用域。

### 变量提升

**定义：**你可以先使用变量，稍后再声明变量而不会引发错误

在ECMAScript6中，let(const)将**不会提升变量道代码块的顶部**。因此，**在变量声明之前引用这个变量，将抛出引用错误**。这个变量将从代码块的一开始的时候就处于一个**暂时性死区**，直到这个变量被声明为止。

### 函数提升

对于函数来说，只有**函数声明会**被提升到顶部，而**函数表达式不会**被提升。

```js
// 函数声明
function foo(){
    ...
}
// 函数表达式
var baz = function(){
    ...
}    
```

### 全局变量

全局变量就是全局对象的属性。在网页中，全局对象是`window`，所以可以用`window.variable`的语法来设置和访问全局变量。

### 常量

可以使用关键字`const`创建一个只读的变量。常量不可以通过重新赋值来改变其值，也不可以在代码运行时重新声明。它必须被初始化为某个值。

然而，对象属性被赋值为常量是不受保护的。同样，数组也是。

## 数据解构和类型

### 数据类型

最新的ECMAScript标准定义了8种数据类型：

- 七种**基本数据类型**
  - Boolean
  - Number
  - String
  - null
  - undefined
  - Symbol
  - BigInt：可以安全地存储和操作大整数，甚至可以超过数字地安全整数限制。
- **对象**

### 数据类型地转换

JavaScript是一种动态类型语言。这意味着你在声明变量时可以不必指定数据类型，而数据类型会在代码执行时会根据需要自动转换。

#### 字符串转数字

- parseInt()和parseFloat()
- 一元加法运算符
- Number(str)

## 字面量

由语法表达式定义地变量；或，通过一定字词组成表达式定义地常量

- 数组字面量
- 布尔字面量
- 浮点数字面量
- 整数
- 对象字面量
- 字符串字面量

### 数组字面量

```js
var a = [1,2,3,4];
```

#### 数组字面值种地多余逗号

你不必列举数组字面值中的所有元素。若你在同一行种连写两个逗号，数组中就会长生一个没有被指定地元素，其初始值是`undefined`。

如果在数组列表地尾部添加一个逗号，它将会忽略。

而在**迭代方法**中，在逗号地地方将会**被忽略**

### 布尔字面量

只有两种：true/false

### 整数

整数可以用十进制、十六进制、八进制、二进制表示

- 十进制由一串数字序列组成，且没有前缀0
- 八进制地整数以0开头
- 十六进制地整数以0x开头
- 二进制整数以0b开头

### 浮点数字面量

### 对象字面量

封闭地花括号中地一个对象地零个或多个**属性名-值**地列表。

```js
var obj = {
    name: 'mzy',
    age: 20,
    teachers:{
        name: 'xxx'
    }
}
```

#### 增强的对象字面量

ES2015，对象字面值扩展支持在创建设置原型，见血了foo:foo形式的属性赋值，方法定义，支持父方法调用，以及使用表达式动态计算属性名。

```js
var obj = {
    __proto__: theProtoObj,
    hander,
    ['proto_'+(()=>42)()]:42
}
```

### RegExp字面值

```js
var reg = /ab+c/;
```

### 字符串字面值

```js
var str1 = "foo";
var str2 = 'bar';
```

