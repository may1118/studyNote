# 词法作用域和动态作用域

[TOC]

## 作用域

**作用域**是程序源代码中定义变量的区域

作用域规定了如何查找变量，也就是确定当前执行代码变量的访问权限。

JavaScript采用**词法作用域**，也就是**静态作用域**。

## 静态作用域与动态作用域

因为JavaScript采用的是词法作用域，**函数的作用域在函数定义的时候就决定了**。

而与词法作用域相对的是动态作用域，函数的作用域是在函数调用的时候才决定的。

**例子：**

```js
var value = 1;

function foo() {
    console.log(value);
}

function bar() {
    var value = 2;
    foo();
}

bar();

// 结果是 ???
```

- 如果是静态作用域
  - 执行函数foo，查找有没有局部变量value，如果没有，就根据书写的位置，查找上面一层的代码，打印1
- 如果是动态作用域
  - 执行函数foo，依然是从foo函数内部查找是否有局部变量value。如果没有，就从调用函数的作用域，也就是bar函数内部查找，打印2