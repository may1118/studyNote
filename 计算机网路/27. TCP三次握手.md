# TCP三次握手

- A --->  B
  - SYN = 1;seq = x
- B ---> A
  - SYN = 1;seq = y; ACK = 1;ack = x+1;
- A ---> B
  - ACK = 1;seq = x+1; ack = y+1;

**各个名词的含义：**

**SYN**：同步序列号，TCP建立连接时将这个位置置1

**ACK**：对数据进行确认。

**seq**：发送的请求报文序号

**ack**：下次希望收到的请求报文序号

### 为什么是三次不是两次

- 如果发生阻塞，client重发，后来网络变好
- 只有两次，服务端不知道客户端有接收信息的能力

### 为什么不是四次握手

**三次握手**已经确认了双方有相应的发送和接收能力。四次握手也可以，无数次握手也可以，只是没有必要。

## 四次挥手

- A ---> B
  - FIN = 1;seq = u
- B ---> A
  - ACK = 1;ack = u+1;seq = v;
- B ----> A
  - FIN = 1;ACK = 1;ack = u+1;seq = w;
- A ----> B
  - ACK = 1;seq = u+1;ack = w + 1;