# MAC地址、IP地址以及ARP协议

- MAC地址是以太网MAC子层所使用的地址
  - **数据链路层**
- IP地址是TCP/IP体系网络层使用的地址
- ARP协议属于网络层，作用：通过IP地址获取得到MAC地址

## MAC地址

**数据链路层**

每个主机发送**帧**中必须携带**标识发送主机**和**接收主机的地址**。由于这类地址是用于媒体接入控制MAC，因此这类地址被成为MAC地址，也叫做物理地址、硬件地址

MAC地址是对网络上各个**接口的唯一标识**，并不是各个设备的唯一标识，因为有些设备具有多个MAC地址，例如：路由器、交换机，电脑也可能拥有多个MAC地址（有线网卡、无线网卡）

MAC地址有**6个字节**，48比特

前三个字节需要向IEEE申请，后面三字节可以自己分配

MAC地址开头：

- 00 全球单播

- 01 全球多播

- 10 本地单播

- 11 本地多播

## IP地址

**网络层**

主要由两部分组成：网络编号+主机编号

> 网络层进行传输的过程中，源IP地址和目的IP地址是不会改变的，而源MAC地址和目的MAC地址会跟随路由器转发的地址的不同而改变

## ARP协议

**IP地址 获得 MAC地址**

**注意**：只能在一个网络中使用，因为需要使用到多播

首先会在自己的高速缓存（ARP告诉缓存）中查看是否有IP地址对应的MAC地址

如果没有，就需要通过广播获取

- 报文解构
  - 源IP地址  源MAC地址
  - 想知道IP地址为xxx的MAC地址
- 通过数据链路层传输，再上交给上层网络层 处理
- 如果本机IP地址和广播的IP地址向对应，首先会缓存一份，然后进行相应
- MAC帧中发送，所需要的发现匹配，较给上层处理，然后缓存。

没有安全验证机制，可能存在ARP欺骗和攻击等问题