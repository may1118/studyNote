# HTTP请求方法

[TOC]

## 标准请求方法

目前，HTTP/1.1规定了八种方法，单词**都必须是大写的形式**

- GET：获取资源，可以理解为读取或下载数据
- POST：向资源提交数据，相当于写入或上传数据
- HEAD：获取资源的元信息
- PUT：类似POST
- DELETE：删除资源
- CONNECT：建立特殊的连接隧道
- OPTIONS：列出可对资源实行的方法
- TRACE：追踪请求-响应的传输路径

## GET/HEAD

**GET**方法应该是HTTP协议里最知名的请求方法了，也应该是用得最多的，从HTTP/0.9版出现一致被保留至今

**含义：**从服务器获取资源，这个资源可以是静态文本、页面、图片、视频，也可以是由PHP、Java动态生成的页面或者其他格式数据。

**HEAD**方法与**GET**方法类似，也是请求从服务器获取资源，服务器的处理机制也是一样的，但服务器不会返回请求的实体数据，**只会传回响应头**，也就是资源的”**元信息**“

- 很多并不真正需要资源的场合，避免传输body数据的浪费
- 检验一个文件是否存在

## POST/PUT

向URI指定的资源提交数据，数据就放在报文的body里

**PUT**方法与**POST**类似，也可以向服务器提交数据，但与**POST**存在微妙的不同，通常**POST**表示的是**新建create**含义，而**PUT**则是**修改update**的含义

## 其他方法

**DELETE**方法只是服务器删除资源，因为这个动作危险性太大，所以服务器通常不会真正执行删除操作，而是对资源做一个删除标记。更多时候服务器直接不处理DELETE请求。

**CONNECT**是一个比较特殊的方法，要求服务器为客户端和另一台远程服务器建立一条特殊的连接隧道，这时Web服务器在中间充当了代理的角色

**OPTIONS**方法要求服务器列出可对资源实行操作方法，在响应头的**Allow**字段里返回。

**TRACK**方法多用于HTTP链路的测试或诊断，可以显示出请求-响应的传输路径。本意是好的，但存在漏洞，会泄露网站的信息，所以web服务器通常也是禁止使用。

## 安全与幂等

**安全**是指请求方法不会**破坏**服务器上的资源，即不会对服务器上的资源造成始值的修改。

所以只有GET和HEAD方法是**安全的**，因为它们是”**只读**“操作，只要服务器不故意曲解请求方法的处理方式，无论GET和HEAD操作多少次，服务器上的数据都是安全的。

**幂等**，意思是：多少次执行相同的操作，结果也都是相同的，即多次”幂“后结果”相等“。

显然，GET和HEAD即是安全的，也是幂等的。DELETE可以多次删除同一个资源，效果都是”**资源不存在**“，所以也是幂等的。

POST和PUT的幂等性质就略费解一点

- POST是新增或提交数据，多次提交数据会创建多个资源，所以不是幂等的
  - 相当于SQL中的INSERT语句
- PUT是替换或更新数据，多次更新一个资源，资源还是会第一次更新的状态，所以是幂等的。
  - 相当于UPDATE

### 总结

**幂等：**GET、HEAD、DELETE、PUT

**非幂等：**POST