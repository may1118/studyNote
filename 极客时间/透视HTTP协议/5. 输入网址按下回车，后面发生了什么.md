# 输入网址按下回车，后面发生了什么

[TOC]

1. 浏览器从地址栏输入中获取服务器的IP地址和端口号
   1. 如果没有IP地址，那么就使用DNS去解析域名，不过一般都有多级缓存
2. 浏览器用TCP的三次握手与服务器建立连接
3. 浏览器向服务器发送拼好的报文
4. 服务器收到报文后处理请求，同样拼好报文再发给浏览器
5. 浏览器解析报文，渲染出页面

如果用的是蜂窝网络、WIFI、由电信基站、无线热点接入移动网络

接入网络时，网络运营商会给你设备分配一个IP地址，这个地址可能是静态分配的，也可能是动态分配的。静态IP就始终不变，而动态IP可能发生变化（DHCP协议 动态主机配置协议），IP--->MAC地址（ARP协议）.....

CDN缓存，在DNS解析过程中，DNS解析可能会给出CND服务器的IP地址，这样浏览器就拿到了CND服务器而不是目标网站的实际地址。

CDN会缓存网站大部分资源，例如：图片、CSS样式表，这样，HTTP请求就不需要再发送到目标网站，CDN就可以响应请求，发送数据。