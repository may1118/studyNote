# Promise

[TOC]

## fetch

`fetch`被定义在window对象中，可以用它来发起对远程资源的请求，类似于Promise的使用

## 生成器

生成器：是一个带星号的函数，而且是可以暂停执行和恢复执行的。

- 生成器函数内部执行一段代码，如果遇到yield关键字，那么JavaScript引擎将返回关键字后面的内容给外部，并暂停该函数的执行
- 外部函数可以通过next方法恢复函数的执行

### 暂停原理——协程

“**协程**”是一种比线程更加轻量级的存在。可以看作是泡在线程上的任务，**一个线程是可以存在多个协程**，但是在线程上只能执行一个协程，比如当前执行的是A协程，要启动B协程，那么A协程就需要将主线程控制权交给B协程，这就体现了A协程暂停执行，B协程恢复执行；同样，也可以从B协程中启动A协程。通常，**如果从A协程启动B协程，我们就把A协程称为B协程的父协程。**

## async/await

提供了在不阻塞主线程的情况下使用了同步代码实现异步访问资源的能力，并且使得代码逻辑更加清晰

### async

`async`是一个通过“**异步执行**”并“**隐式返回Promise**”作为结果的**函数**

### await

```js
async function foo() {
  console.log(1);
  let a = await 100;
  console.log(a);
  console.log(2);
}
console.log(0);
foo();
console.log(3);
```

![](I:\myFuture\桌面资料\面试\学习图片\async-await执行流程.png)