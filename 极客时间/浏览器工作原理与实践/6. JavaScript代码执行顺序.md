# JavaScript代码执行顺序

[TOC]

## 变量提升

`JavaScript`申明和赋值是分开的，那么所谓的“**变量提升**”是指：在JavaScript代码执行过程中，JavaScript引擎把变量的声明部分和函数的声明部分提到了代码开头。变量被提升后，会给变量设置默认值，这个默认值就是我们熟悉的undefined

## 执行流程

> 一段JavaScript代码 --->  编译 --->  执行

实际上变量和函数声明在代码里的位置是不会改变的，而且是在编译阶段被JavaScript引擎放入内存中。

### 1. 编译阶段

经过编译后的代码，会生成两部分：**执行上下文**和**可执行代码**

（传说中的变量提升发生在这个时间）

“**执行上下文**”：JavaScript执行一段代码时的运行环境，比如：this 变量 对象以及函数等

在执行上下文中存在一个**变量环境的对象**，该对象中保存了变量提升的内容

### 2. 执行阶段

按照顺序一行一行地执行

先编译 后 执行的机制

## 代码中出现了相同地变量或者函数

“**完整地执行流程：**”

- 编译阶段：遇到第一个fuc，会将该变量体存到变量环境中，接下来遇到了第二个fuc，继续存放到变量环境中，但是已经存在一个fuc了，那么第二个fuc会覆盖第一个fuc
- 执行阶段：根据函数名查找对应的函数

所以：一段代码如果定义个两个相同名字的函数，最终生效的是最后一个函数

## 变量提升和函数提升

函数提升的优先级比变量提升的优先级高

并且定义过程不会被变量覆盖，**除非是赋值**